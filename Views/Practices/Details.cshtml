@model Sofia.Web.Models.Practice
@{
    ViewData["Title"] = Model.Name;
}

<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <div class="d-flex justify-content-between align-items-center">
                    <h4 class="mb-0">@GetCategoryEmoji(Model.Category) @Model.Name</h4>
                    <span class="badge bg-primary">‚è±Ô∏è @Model.DurationMinutes –º–∏–Ω</span>
                </div>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <span class="badge bg-secondary">@GetCategoryName(Model.Category)</span>
                </div>
                
                <p class="lead">@Model.Description</p>
                
                @if (!string.IsNullOrEmpty(Model.Instructions))
                {
                    <div class="alert alert-info">
                        <h6 class="alert-heading">üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h6>
                        <p class="mb-0">@Model.Instructions</p>
                    </div>
                }
                
                <div class="row g-3 mt-4">
                    <div class="col-md-6">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h6>‚è±Ô∏è –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h6>
                                <h4 class="text-primary">@Model.DurationMinutes –º–∏–Ω</h4>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card bg-light">
                            <div class="card-body text-center">
                                <h6>üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è</h6>
                                <h5>@GetCategoryEmoji(Model.Category) @GetCategoryName(Model.Category)</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card-footer">
                <div class="d-flex justify-content-between">
                    <a href="/practices" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
                    <form method="post" action="/practices/start/@Model.Id" class="d-inline">
                        <button type="submit" class="btn btn-primary btn-lg">
                            ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É
                        </button>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Practice Tips -->
        <div class="card mt-4">
            <div class="card-header">
                <h5 class="mb-0">üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li class="mb-2">‚úÖ –ù–∞–π–¥–∏—Ç–µ —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ –±–µ–∑ –æ—Ç–≤–ª–µ—á–µ–Ω–∏–π</li>
                    <li class="mb-2">‚úÖ –£—Å—Ç—Ä–æ–π—Ç–µ—Å—å —É–¥–æ–±–Ω–æ, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ</li>
                    <li class="mb-2">‚úÖ –û—Ç–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ</li>
                    <li class="mb-2">‚úÖ –ù–µ –∫—Ä–∏—Ç–∏–∫—É–π—Ç–µ —Å–µ–±—è, –µ—Å–ª–∏ –º—ã—Å–ª–∏ –±–ª—É–∂–¥–∞—é—Ç</li>
                    <li class="mb-0">‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ —Å–≤–æ–∏ –æ—â—É—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</li>
                </ul>
            </div>
        </div>
    </div>
</div>

@functions {
    string GetCategoryEmoji(Sofia.Web.Models.PracticeCategory category)
    {
        return category switch
        {
            Sofia.Web.Models.PracticeCategory.Breathing => "ü´Å",
            Sofia.Web.Models.PracticeCategory.Visualization => "üåÖ",
            Sofia.Web.Models.PracticeCategory.CBT => "üß†",
            Sofia.Web.Models.PracticeCategory.Gestalt => "üé≠",
            Sofia.Web.Models.PracticeCategory.Meditation => "üßò",
            Sofia.Web.Models.PracticeCategory.Mindfulness => "üå±",
            Sofia.Web.Models.PracticeCategory.Relaxation => "üòå",
            _ => "üßò"
        };
    }
    
    string GetCategoryName(Sofia.Web.Models.PracticeCategory category)
    {
        return category switch
        {
            Sofia.Web.Models.PracticeCategory.Breathing => "–î—ã—Ö–∞–Ω–∏–µ",
            Sofia.Web.Models.PracticeCategory.Visualization => "–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è",
            Sofia.Web.Models.PracticeCategory.CBT => "–ö–ü–¢",
            Sofia.Web.Models.PracticeCategory.Gestalt => "–ì–µ—à—Ç–∞–ª—å—Ç",
            Sofia.Web.Models.PracticeCategory.Meditation => "–ú–µ–¥–∏—Ç–∞—Ü–∏—è",
            Sofia.Web.Models.PracticeCategory.Mindfulness => "–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å",
            Sofia.Web.Models.PracticeCategory.Relaxation => "–†–µ–ª–∞–∫—Å–∞—Ü–∏—è",
            _ => category.ToString()
        };
    }
}
